// langs.js
const translations = {
    'English': {
        welcome: 'Welcome to our website!',
        goal: 'Our goal in creating this website<br>is to make packs accessible to everyone<br>with all devices.',
        aboutTitle: 'About us',
        aboutText: 'We always strive to improve your game<br>and attract your taste to the packs.<br>We hope you enjoy the website, packs, and Telegram channel',
        packs: 'Packs',
        about: 'About',
        maps: 'Maps',
        warning: '⚠ Warning: Site elements may not display properly on your device, but you can continue exploring.',
        unsupported: 'This language is not fully supported across the entire website. Sorry.',
        footerAlert: 'Website and many packs were created by ItsSadegh786MC.'
    },
    'Русский': {
        welcome: 'Добро пожаловать на наш сайт!',
        goal: 'Наша цель при создании этого сайта<br>— сделать пакеты доступными для всех<br>устройств.',
        aboutTitle: 'О нас',
        aboutText: 'Мы всегда стревимся улучшить вашу игру<br>и привлечь ваш вкус к пакетам.<br>Надеемся, вам понравится сайт, пакеты и Telegram канал',
        packs: 'Пакеты',
        about: 'О нас',
        maps: 'Карты',
        warning: '⚠ Предупреждение: элементы сайта могут отображаться некорректно на вашем устройстве, но вы можете продолжить изучение.',
        unsupported: 'Этот язык не полностью поддерживается на всем сайте. Извините.',
        footerAlert: 'Сайт и многие пакеты были созданы ItsSadegh786MC.'
    },
    'العربية': {
        welcome: 'مرحبًا بكم في موقعنا!',
        goal: 'هدفنا من إنشاء هذا الموقع<br>هو جعل الحزم متاحة للجميع<br>بجميع الأجهزة.',
        aboutTitle: 'من نحن',
        aboutText: 'نسعى دائمًا لتحسين لعبتك<br>وجذب ذوقك إلى الحزم.<br>نأمل أن تستمتع بالموقع والحزم وقناة تلجرام',
        packs: 'الحزم',
        about: 'حول',
        maps: 'الخرائط',
        warning: '⚠ تحذير: قد لا تظهر عناصر الموقع بشكل صحيح على جهازك، ولكن يمكنك الاستمرار في الاستكشاف.',
        unsupported: 'هذه اللغة غير مدعومة بالكامل عبر الموقع بأكمله. نأسف.',
        footerAlert: 'تم إنشاء الموقع والعديد من الحزم بواسطة ItsSadegh786MC.'
    },
    'Français': {
        welcome: 'Bienvenue sur notre site web !',
        goal: 'Notre objectif en créant ce site<br>est de rendre les packs accessibles à tous<br>avec tous les appareils.',
        aboutTitle: 'À propos',
        aboutText: 'Nous nous efforçons toujours d\'améliorer votre jeu<br>et d\'attirer votre goût pour les packs.<br>Nous espérons que vous apprécierez le site, les packs et la chaîne Telegram',
        packs: 'Packs',
        about: 'À propos',
        maps: 'Cartes',
        warning: '⚠ Avertissement : les éléments du site peuvent ne pas s\'afficher correctement sur votre appareil, mais vous pouvez continuer à explorer.',
        unsupported: 'Cette langue n\'est pas entièrement prise en charge sur l\'ensemble du site. Désolé.',
        footerAlert: 'Le site et de nombreux packs ont été créés par ItsSadegh786MC.'
    },
    'Deutsch': {
        welcome: 'Willkommen auf unserer Website!',
        goal: 'Unser Ziel bei der Erstellung dieser Website<br>ist es, Packs für alle zugänglich zu machen<br>mit allen Geräten.',
        aboutTitle: 'Über uns',
        aboutText: 'Wir bemühen uns immer, Ihr Spiel zu verbessern<br>und Ihren Geschmack für Packs zu gewinnen.<br>Wir hoffen, dass Ihnen die Website, die Packs und der Telegram-Kanal gefallen',
        packs: 'Packs',
        about: 'Über',
        maps: 'Karten',
        warning: '⚠ Warnung: Website-Elemente werden auf Ihrem Gerät möglicherweise nicht richtig angezeigt, aber Sie können weiter erkunden.',
        unsupported: 'Diese Sprache wird nicht auf der gesamten Website unterstützt. Entschuldigung.',
        footerAlert: 'Website und viele Packs wurden von ItsSadegh786MC erstellt.'
    },
    'Español': {
        welcome: '¡Bienvenido a nuestro sitio web!',
        goal: 'Nuestro objetivo al crear este sitio web<br>es hacer que los paquetes sean accesibles para todos<br>con todos los dispositivos.',
        aboutTitle: 'Sobre nosotros',
        aboutText: 'Siempre nos esforzamos por mejorar tu juego<br>y atraer tu gusto por los paquetes.<br>Esperamos que disfrutes del sitio web, los paquetes y el canal de Telegram',
        packs: 'Paquetes',
        about: 'Acerca de',
        maps: 'Mapas',
        warning: '⚠ Advertencia: es posible que los elementos del sitio no se muestren correctamente en su dispositivo, pero puede continuar explorando.',
        unsupported: 'Este idioma no es compatible con todo el sitio web. Lo sentimos.',
        footerAlert: 'El sitio web y muchos paquetes fueron creados por ItsSadegh786MC.'
    },
    'Italiano': {
        welcome: 'Benvenuto nel nostro sito web!',
        goal: 'Il nostro obiettivo nel creare questo sito web<br>è rendere i pacchetti accessibili a tutti<br>con tutti i dispositivi.',
        aboutTitle: 'Chi siamo',
        aboutText: 'Ci sforziamo sempre di migliorare il tuo gioco<br>e attirare il tuo gusto per i pacchetti.<br>Speriamo che ti piaccia el sito web, i pacchetti e il canale Telegram',
        packs: 'Pacchetti',
        about: 'Informazioni',
        maps: 'Mappe',
        warning: '⚠ Avvertimento: gli elementi del sito podrebbero non essere visualizzati correttamente sul tuo dispositivo, ma puoi continuare a esplorare.',
        unsupported: 'Questa lingua non è completamente supportata in tutto il sito web. Ci dispiace.',
        footerAlert: 'Il sito web e molti pacchetti sono stati creati da ItsSadegh786MC.'
    },
    '中文': {
        welcome: '欢迎来到我们的网站！',
        goal: '我们创建这个网站的目标是<br>让所有人都能使用所有设备<br>访问这些资源包。',
        aboutTitle: '关于我们',
        aboutText: '我们一直努力改进您的游戏体验<br>并吸引您对资源包的兴趣。<br>希望您喜欢我们的网站、资源包和 Telegram 频道',
        packs: '资源包',
        about: '关于',
        maps: '地图',
        warning: '⚠ 警告：网站元素可能在您的设备上无法正常显示，但您可以继续浏览。',
        unsupported: '此语言在整个网站中未得到完全支持。抱歉。',
        footerAlert: '网站和许多资源包由 ItsSadegh786MC 创建。'
    },
    '日本語': {
        welcome: '当サイトへようこそ！',
        goal: 'このウェブサイトを作成した目的は、<br>すべての人々がすべてのデバイスで<br>パックにアクセスできるようにすることです。',
        aboutTitle: '私たちについて',
        aboutText: '私たちは常にあなたのゲーム体験を向上させ、<br>パックへの興味を引くよう努力しています。<br>ウェブサイト、パック、Telegram チャンネルをお楽しみください',
        packs: 'パック',
        about: 'について',
        maps: 'マップ',
        warning: '⚠ 警告：サイトの要素がお使いのデバイスで正しく表示されない可能性がありますが、引き続き探索できます。',
        unsupported: 'この言語はウェブサイト全体で完全にはサポートされていません。申し訳ありません。',
        footerAlert: 'ウェブサイトと多くのパックは ItsSadegh786MC によって作成されました。'
    },
    '한국어': {
        welcome: '우리 웹사이트에 오신 것을 환영합니다!',
        goal: '이 웹사이트를 만든 목표는<br>모든 사람이 모든 기기로<br>팩에 접근할 수 있도록 하는 것입니다.',
        aboutTitle: '회사 소개',
        aboutText: '우리는 항상 게임 경험을 향상시키고<br>팩에 대한 관심을 끌기 위해 노력합니다.<br>웹사이트、팩、Telegram 채널을 즐기시기 바랍니다',
        packs: '팩',
        about: '소개',
        maps: '지도',
        warning: '⚠ 경고: 사이트 요소가 기기에서 제대로 표시되지 않을 수 있지만 계속 탐색할 수 있습니다.',
        unsupported: '이 언어는 전체 웹사이트에서 완전히 지원되지 않습니다. 죄송합니다.',
        footerAlert: '웹사이트와 많은 팩은 ItsSadegh786MC에 의해 생성되었습니다.'
    }
};

// لیست زبان‌های پشتیبانی شده
const supportedLanguages = ['English', 'Русский', 'العربية', 'Français', 'Deutsch', 'Español', 'Italiano', '中文', '日本語', '한국어'];

// تابع اصلی
function applyLanguage() {
    const params = new URLSearchParams(window.location.search);
    const langParam = params.get('l');
    const slParam = params.get('sl');
    
    // اگر sl=false باشد، هیچ کاری نکن
    if (slParam === 'false') return;
    
    // اگر پارامتر زبان وجود نداشته باشد، کار نکن
    if (!langParam) return;
    
    // اگر زبان فارسی باشد، کار نکن
    if (langParam === 'پارسی' || langParam === 'فارسی') return;
    
    // اگر زبان پشتیبانی نشده باشد
    if (!supportedLanguages.includes(langParam)) {
        // نمایش پیغام خطا
        setTimeout(() => {
            alert(translations['English'].unsupported);
        }, 500);
        return;
    }
    
    // ترجمه‌ها را اعمال کن
    const t = translations[langParam];
    if (!t) return;
    
    // 1. ترجمه متن خوش‌آمدگویی
    const welcomeEl = document.querySelector('.tro');
    if (welcomeEl) {
        const html = welcomeEl.innerHTML;
        if (html.includes('به وب‌سایت ما خوش آمدید')) {
            welcomeEl.innerHTML = html.replace('به وب‌سایت ما خوش آمدید', t.welcome);
        }
    }
    
    // 2. ترجمه متن هدف
    const goalEls = document.querySelectorAll('.p-center');
    goalEls.forEach(el => {
        if (el.innerHTML.includes('هدف ما')) {
            el.innerHTML = t.goal;
        }
    });
    
    // 3. ترجمه دکمه‌ها
    document.querySelectorAll('.dokme').forEach(btn => {
        if (btn.textContent.includes('پک‌ها')) btn.textContent = t.packs;
        if (btn.textContent.includes('درباره')) btn.textContent = t.about;
        if (btn.textContent.includes('مپ‌ها')) btn.textContent = t.maps;
    });
    
    // 4. ترجمه هشدار دسکتاپ
    const warningEl = document.querySelector('.warning-text');
    if (warningEl) {
        warningEl.textContent = t.warning;
    }
    
    // 5. ترجمه بخش درباره ما
    const aboutTitleEl = document.querySelector('#about + .tro');
    if (aboutTitleEl && aboutTitleEl.textContent.includes('درباره ما')) {
        aboutTitleEl.innerHTML = t.aboutTitle;
    }
    
    const aboutTextEl = document.getElementById('about');
    if (aboutTextEl) {
        aboutTextEl.innerHTML = t.aboutText;
    }
    
    // 6. تغییر پیغام alert
    const oldAlert = window.showAlert;
    window.showAlert = function() {
        alert(t.footerAlert);
    };
}

// اجرای تابع زمانی که صفحه لود شد
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', applyLanguage);
} else {
    applyLanguage();
}