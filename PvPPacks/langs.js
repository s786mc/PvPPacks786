// langs.js
const translations = {
    'English': {
        welcome: 'Welcome to our website!',
        goal: 'Our goal in creating this website<br>is to make packs accessible to everyone<br>with all devices.',
        aboutTitle: 'About us',
        aboutText: 'We always strive to improve your game<br>and attract your taste to the packs.<br>We hope you enjoy the website, packs, and Telegram channel',
        packs: 'Packs',
        about: 'About',
        maps: 'Maps',
        warning: 'âš  Warning: Site elements may not display properly on your device, but you can continue exploring.',
        unsupported: 'This language is not fully supported across the entire website. Sorry.',
        footerAlert: 'Website and many packs were created by ItsSadegh786MC.'
    },
    'Ğ ÑƒÑÑĞºĞ¸Ğ¹': {
        welcome: 'Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ° Ğ½Ğ°Ñˆ ÑĞ°Ğ¹Ñ‚!',
        goal: 'ĞĞ°ÑˆĞ° Ñ†ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ ÑÑ‚Ğ¾Ğ³Ğ¾ ÑĞ°Ğ¹Ñ‚Ğ°<br>â€” ÑĞ´ĞµĞ»Ğ°Ñ‚ÑŒ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ»Ñ Ğ²ÑĞµÑ…<br>ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ².',
        aboutTitle: 'Ğ Ğ½Ğ°Ñ',
        aboutText: 'ĞœÑ‹ Ğ²ÑĞµĞ³Ğ´Ğ° ÑÑ‚Ñ€ĞµĞ²Ğ¸Ğ¼ÑÑ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ Ğ²Ğ°ÑˆÑƒ Ğ¸Ğ³Ñ€Ñƒ<br>Ğ¸ Ğ¿Ñ€Ğ¸Ğ²Ğ»ĞµÑ‡ÑŒ Ğ²Ğ°Ñˆ Ğ²ĞºÑƒÑ Ğº Ğ¿Ğ°ĞºĞµÑ‚Ğ°Ğ¼.<br>ĞĞ°Ğ´ĞµĞµĞ¼ÑÑ, Ğ²Ğ°Ğ¼ Ğ¿Ğ¾Ğ½Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑÑ ÑĞ°Ğ¹Ñ‚, Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ¸ Telegram ĞºĞ°Ğ½Ğ°Ğ»',
        packs: 'ĞŸĞ°ĞºĞµÑ‚Ñ‹',
        about: 'Ğ Ğ½Ğ°Ñ',
        maps: 'ĞšĞ°Ñ€Ñ‚Ñ‹',
        warning: 'âš  ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ: ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ ÑĞ°Ğ¹Ñ‚Ğ° Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°Ñ‚ÑŒÑÑ Ğ½ĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ½Ğ° Ğ²Ğ°ÑˆĞµĞ¼ ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğµ, Ğ½Ğ¾ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ğµ.',
        unsupported: 'Ğ­Ñ‚Ğ¾Ñ‚ ÑĞ·Ñ‹Ğº Ğ½Ğµ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½Ğ° Ğ²ÑĞµĞ¼ ÑĞ°Ğ¹Ñ‚Ğµ. Ğ˜Ğ·Ğ²Ğ¸Ğ½Ğ¸Ñ‚Ğµ.',
        footerAlert: 'Ğ¡Ğ°Ğ¹Ñ‚ Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¸Ğµ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ±Ñ‹Ğ»Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ñ‹ ItsSadegh786MC.'
    },
    'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©': {
        welcome: 'Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…ÙˆÙ‚Ø¹Ù†Ø§!',
        goal: 'Ù‡Ø¯ÙÙ†Ø§ Ù…Ù† Ø¥Ù†Ø´Ø§Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹<br>Ù‡Ùˆ Ø¬Ø¹Ù„ Ø§Ù„Ø­Ø²Ù… Ù…ØªØ§Ø­Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹<br>Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©.',
        aboutTitle: 'Ù…Ù† Ù†Ø­Ù†',
        aboutText: 'Ù†Ø³Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ù„ØªØ­Ø³ÙŠÙ† Ù„Ø¹Ø¨ØªÙƒ<br>ÙˆØ¬Ø°Ø¨ Ø°ÙˆÙ‚Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø²Ù….<br>Ù†Ø£Ù…Ù„ Ø£Ù† ØªØ³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø­Ø²Ù… ÙˆÙ‚Ù†Ø§Ø© ØªÙ„Ø¬Ø±Ø§Ù…',
        packs: 'Ø§Ù„Ø­Ø²Ù…',
        about: 'Ø­ÙˆÙ„',
        maps: 'Ø§Ù„Ø®Ø±Ø§Ø¦Ø·',
        warning: 'âš  ØªØ­Ø°ÙŠØ±: Ù‚Ø¯ Ù„Ø§ ØªØ¸Ù‡Ø± Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²ÙƒØŒ ÙˆÙ„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù.',
        unsupported: 'Ù‡Ø°Ù‡ Ø§Ù„Ù„ØºØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¹Ø¨Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ø£ÙƒÙ…Ù„Ù‡. Ù†Ø£Ø³Ù.',
        footerAlert: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­Ø²Ù… Ø¨ÙˆØ§Ø³Ø·Ø© ItsSadegh786MC.'
    },
    'FranÃ§ais': {
        welcome: 'Bienvenue sur notre site web !',
        goal: 'Notre objectif en crÃ©ant ce site<br>est de rendre les packs accessibles Ã  tous<br>avec tous les appareils.',
        aboutTitle: 'Ã€ propos',
        aboutText: 'Nous nous efforÃ§ons toujours d\'amÃ©liorer votre jeu<br>et d\'attirer votre goÃ»t pour les packs.<br>Nous espÃ©rons que vous apprÃ©cierez le site, les packs et la chaÃ®ne Telegram',
        packs: 'Packs',
        about: 'Ã€ propos',
        maps: 'Cartes',
        warning: 'âš  Avertissement : les Ã©lÃ©ments du site peuvent ne pas s\'afficher correctement sur votre appareil, mais vous pouvez continuer Ã  explorer.',
        unsupported: 'Cette langue n\'est pas entiÃ¨rement prise en charge sur l\'ensemble du site. DÃ©solÃ©.',
        footerAlert: 'Le site et de nombreux packs ont Ã©tÃ© crÃ©Ã©s par ItsSadegh786MC.'
    },
    'Deutsch': {
        welcome: 'Willkommen auf unserer Website!',
        goal: 'Unser Ziel bei der Erstellung dieser Website<br>ist es, Packs fÃ¼r alle zugÃ¤nglich zu machen<br>mit allen GerÃ¤ten.',
        aboutTitle: 'Ãœber uns',
        aboutText: 'Wir bemÃ¼hen uns immer, Ihr Spiel zu verbessern<br>und Ihren Geschmack fÃ¼r Packs zu gewinnen.<br>Wir hoffen, dass Ihnen die Website, die Packs und der Telegram-Kanal gefallen',
        packs: 'Packs',
        about: 'Ãœber',
        maps: 'Karten',
        warning: 'âš  Warnung: Website-Elemente werden auf Ihrem GerÃ¤t mÃ¶glicherweise nicht richtig angezeigt, aber Sie kÃ¶nnen weiter erkunden.',
        unsupported: 'Diese Sprache wird nicht auf der gesamten Website unterstÃ¼tzt. Entschuldigung.',
        footerAlert: 'Website und viele Packs wurden von ItsSadegh786MC erstellt.'
    },
    'EspaÃ±ol': {
        welcome: 'Â¡Bienvenido a nuestro sitio web!',
        goal: 'Nuestro objetivo al crear este sitio web<br>es hacer que los paquetes sean accesibles para todos<br>con todos los dispositivos.',
        aboutTitle: 'Sobre nosotros',
        aboutText: 'Siempre nos esforzamos por mejorar tu juego<br>y atraer tu gusto por los paquetes.<br>Esperamos que disfrutes del sitio web, los paquetes y el canal de Telegram',
        packs: 'Paquetes',
        about: 'Acerca de',
        maps: 'Mapas',
        warning: 'âš  Advertencia: es posible que los elementos del sitio no se muestren correctamente en su dispositivo, pero puede continuar explorando.',
        unsupported: 'Este idioma no es compatible con todo el sitio web. Lo sentimos.',
        footerAlert: 'El sitio web y muchos paquetes fueron creados por ItsSadegh786MC.'
    },
    'Italiano': {
        welcome: 'Benvenuto nel nostro sito web!',
        goal: 'Il nostro obiettivo nel creare questo sito web<br>Ã¨ rendere i pacchetti accessibili a tutti<br>con tutti i dispositivi.',
        aboutTitle: 'Chi siamo',
        aboutText: 'Ci sforziamo sempre di migliorare il tuo gioco<br>e attirare il tuo gusto per i pacchetti.<br>Speriamo che ti piaccia el sito web, i pacchetti e il canale Telegram',
        packs: 'Pacchetti',
        about: 'Informazioni',
        maps: 'Mappe',
        warning: 'âš  Avvertimento: gli elementi del sito podrebbero non essere visualizzati correttamente sul tuo dispositivo, ma puoi continuare a esplorare.',
        unsupported: 'Questa lingua non Ã¨ completamente supportata in tutto il sito web. Ci dispiace.',
        footerAlert: 'Il sito web e molti pacchetti sono stati creati da ItsSadegh786MC.'
    },
    'ä¸­æ–‡': {
        welcome: 'æ¬¢è¿æ¥åˆ°æˆ‘ä»¬çš„ç½‘ç«™ï¼',
        goal: 'æˆ‘ä»¬åˆ›å»ºè¿™ä¸ªç½‘ç«™çš„ç›®æ ‡æ˜¯<br>è®©æ‰€æœ‰äººéƒ½èƒ½ä½¿ç”¨æ‰€æœ‰è®¾å¤‡<br>è®¿é—®è¿™äº›èµ„æºåŒ…ã€‚',
        aboutTitle: 'å…³äºæˆ‘ä»¬',
        aboutText: 'æˆ‘ä»¬ä¸€ç›´åŠªåŠ›æ”¹è¿›æ‚¨çš„æ¸¸æˆä½“éªŒ<br>å¹¶å¸å¼•æ‚¨å¯¹èµ„æºåŒ…çš„å…´è¶£ã€‚<br>å¸Œæœ›æ‚¨å–œæ¬¢æˆ‘ä»¬çš„ç½‘ç«™ã€èµ„æºåŒ…å’Œ Telegram é¢‘é“',
        packs: 'èµ„æºåŒ…',
        about: 'å…³äº',
        maps: 'åœ°å›¾',
        warning: 'âš  è­¦å‘Šï¼šç½‘ç«™å…ƒç´ å¯èƒ½åœ¨æ‚¨çš„è®¾å¤‡ä¸Šæ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œä½†æ‚¨å¯ä»¥ç»§ç»­æµè§ˆã€‚',
        unsupported: 'æ­¤è¯­è¨€åœ¨æ•´ä¸ªç½‘ç«™ä¸­æœªå¾—åˆ°å®Œå…¨æ”¯æŒã€‚æŠ±æ­‰ã€‚',
        footerAlert: 'ç½‘ç«™å’Œè®¸å¤šèµ„æºåŒ…ç”± ItsSadegh786MC åˆ›å»ºã€‚'
    },
    'æ—¥æœ¬èª': {
        welcome: 'å½“ã‚µã‚¤ãƒˆã¸ã‚ˆã†ã“ãï¼',
        goal: 'ã“ã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ãŸç›®çš„ã¯ã€<br>ã™ã¹ã¦ã®äººã€…ãŒã™ã¹ã¦ã®ãƒ‡ãƒã‚¤ã‚¹ã§<br>ãƒ‘ãƒƒã‚¯ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã™ã€‚',
        aboutTitle: 'ç§ãŸã¡ã«ã¤ã„ã¦',
        aboutText: 'ç§ãŸã¡ã¯å¸¸ã«ã‚ãªãŸã®ã‚²ãƒ¼ãƒ ä½“é¨“ã‚’å‘ä¸Šã•ã›ã€<br>ãƒ‘ãƒƒã‚¯ã¸ã®èˆˆå‘³ã‚’å¼•ãã‚ˆã†åŠªåŠ›ã—ã¦ã„ã¾ã™ã€‚<br>ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã€ãƒ‘ãƒƒã‚¯ã€Telegram ãƒãƒ£ãƒ³ãƒãƒ«ã‚’ãŠæ¥½ã—ã¿ãã ã•ã„',
        packs: 'ãƒ‘ãƒƒã‚¯',
        about: 'ã«ã¤ã„ã¦',
        maps: 'ãƒãƒƒãƒ—',
        warning: 'âš  è­¦å‘Šï¼šã‚µã‚¤ãƒˆã®è¦ç´ ãŒãŠä½¿ã„ã®ãƒ‡ãƒã‚¤ã‚¹ã§æ­£ã—ãè¡¨ç¤ºã•ã‚Œãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€å¼•ãç¶šãæ¢ç´¢ã§ãã¾ã™ã€‚',
        unsupported: 'ã“ã®è¨€èªã¯ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆå…¨ä½“ã§å®Œå…¨ã«ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚',
        footerAlert: 'ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã¨å¤šãã®ãƒ‘ãƒƒã‚¯ã¯ ItsSadegh786MC ã«ã‚ˆã£ã¦ä½œæˆã•ã‚Œã¾ã—ãŸã€‚'
    },
    'í•œêµ­ì–´': {
        welcome: 'ìš°ë¦¬ ì›¹ì‚¬ì´íŠ¸ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!',
        goal: 'ì´ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë§Œë“  ëª©í‘œëŠ”<br>ëª¨ë“  ì‚¬ëŒì´ ëª¨ë“  ê¸°ê¸°ë¡œ<br>íŒ©ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.',
        aboutTitle: 'íšŒì‚¬ ì†Œê°œ',
        aboutText: 'ìš°ë¦¬ëŠ” í•­ìƒ ê²Œì„ ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê³ <br>íŒ©ì— ëŒ€í•œ ê´€ì‹¬ì„ ëŒê¸° ìœ„í•´ ë…¸ë ¥í•©ë‹ˆë‹¤.<br>ì›¹ì‚¬ì´íŠ¸ã€íŒ©ã€Telegram ì±„ë„ì„ ì¦ê¸°ì‹œê¸° ë°”ëë‹ˆë‹¤',
        packs: 'íŒ©',
        about: 'ì†Œê°œ',
        maps: 'ì§€ë„',
        warning: 'âš  ê²½ê³ : ì‚¬ì´íŠ¸ ìš”ì†Œê°€ ê¸°ê¸°ì—ì„œ ì œëŒ€ë¡œ í‘œì‹œë˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ ê³„ì† íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
        unsupported: 'ì´ ì–¸ì–´ëŠ” ì „ì²´ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ì™„ì „íˆ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì£„ì†¡í•©ë‹ˆë‹¤.',
        footerAlert: 'ì›¹ì‚¬ì´íŠ¸ì™€ ë§ì€ íŒ©ì€ ItsSadegh786MCì— ì˜í•´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.'
    }
};

// Ù„ÛŒØ³Øª Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø´Ø¯Ù‡
const supportedLanguages = ['English', 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', 'FranÃ§ais', 'Deutsch', 'EspaÃ±ol', 'Italiano', 'ä¸­æ–‡', 'æ—¥æœ¬èª', 'í•œêµ­ì–´'];

// ØªØ§Ø¨Ø¹ Ø§ØµÙ„ÛŒ
function applyLanguage() {
    const params = new URLSearchParams(window.location.search);
    const langParam = params.get('l');
    const slParam = params.get('sl');
    
    // Ø§Ú¯Ø± sl=false Ø¨Ø§Ø´Ø¯ØŒ Ù‡ÛŒÚ† Ú©Ø§Ø±ÛŒ Ù†Ú©Ù†
    if (slParam === 'false') return;
    
    // Ø§Ú¯Ø± Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø²Ø¨Ø§Ù† ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ØŒ Ú©Ø§Ø± Ù†Ú©Ù†
    if (!langParam) return;
    
    // Ø§Ú¯Ø± Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ Ø¨Ø§Ø´Ø¯ØŒ Ú©Ø§Ø± Ù†Ú©Ù†
    if (langParam === 'Ù¾Ø§Ø±Ø³ÛŒ' || langParam === 'ÙØ§Ø±Ø³ÛŒ') return;
    
    // Ø§Ú¯Ø± Ø²Ø¨Ø§Ù† Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
    if (!supportedLanguages.includes(langParam)) {
        // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØºØ§Ù… Ø®Ø·Ø§
        setTimeout(() => {
            alert(translations['English'].unsupported);
        }, 500);
        return;
    }
    
    // ØªØ±Ø¬Ù…Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¹Ù…Ø§Ù„ Ú©Ù†
    const t = translations[langParam];
    if (!t) return;
    
    // 1. ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ† Ø®ÙˆØ´â€ŒØ¢Ù…Ø¯Ú¯ÙˆÛŒÛŒ
    const welcomeEl = document.querySelector('.tro');
    if (welcomeEl) {
        const html = welcomeEl.innerHTML;
        if (html.includes('Ø¨Ù‡ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯')) {
            welcomeEl.innerHTML = html.replace('Ø¨Ù‡ ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ù…Ø§ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯', t.welcome);
        }
    }
    
    // 2. ØªØ±Ø¬Ù…Ù‡ Ù…ØªÙ† Ù‡Ø¯Ù
    const goalEls = document.querySelectorAll('.p-center');
    goalEls.forEach(el => {
        if (el.innerHTML.includes('Ù‡Ø¯Ù Ù…Ø§')) {
            el.innerHTML = t.goal;
        }
    });
    
    // 3. ØªØ±Ø¬Ù…Ù‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
    document.querySelectorAll('.dokme').forEach(btn => {
        if (btn.textContent.includes('Ù¾Ú©â€ŒÙ‡Ø§')) btn.textContent = t.packs;
        if (btn.textContent.includes('Ø¯Ø±Ø¨Ø§Ø±Ù‡')) btn.textContent = t.about;
        if (btn.textContent.includes('Ù…Ù¾â€ŒÙ‡Ø§')) btn.textContent = t.maps;
    });
    
    // 4. ØªØ±Ø¬Ù…Ù‡ Ù‡Ø´Ø¯Ø§Ø± Ø¯Ø³Ú©ØªØ§Ù¾
    const warningEl = document.querySelector('.warning-text');
    if (warningEl) {
        warningEl.textContent = t.warning;
    }
    
    // 5. ØªØ±Ø¬Ù…Ù‡ Ø¨Ø®Ø´ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§
    const aboutTitleEl = document.querySelector('#about + .tro');
    if (aboutTitleEl && aboutTitleEl.textContent.includes('Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§')) {
        aboutTitleEl.innerHTML = t.aboutTitle;
    }
    
    const aboutTextEl = document.getElementById('about');
    if (aboutTextEl) {
        aboutTextEl.innerHTML = t.aboutText;
    }
    
    // 6. ØªØºÛŒÛŒØ± Ù¾ÛŒØºØ§Ù… alert
    const oldAlert = window.showAlert;
    window.showAlert = function() {
        alert(t.footerAlert);
    };
}

// Ø§Ø¬Ø±Ø§ÛŒ ØªØ§Ø¨Ø¹ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ø´Ø¯
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', applyLanguage);
} else {
    applyLanguage();
}
// ==================== ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø²Ø¨Ø§Ù† (Auto Language Detection) ====================

function detectBrowserLanguage() {
    // Ø¯Ø±ÛŒØ§ÙØª Ø²Ø¨Ø§Ù† Ù…Ø±ÙˆØ±Ú¯Ø± Ú©Ø§Ø±Ø¨Ø±
    const browserLang = navigator.language || navigator.userLanguage;
    let detectedLang = null;
    
    // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ ÙØ±Ù…Øª Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ (Ù…Ø§Ù†Ù†Ø¯ en-US Ø¨Ù‡ en)
    const primaryLang = browserLang.split('-')[0];
    
    // Ù†Ù‚Ø´Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ø²Ø¨Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø± Ø¨Ù‡ Ú©Ø¯Ù‡Ø§ÛŒ Ø³Ø§ÛŒØª Ù…Ø§
    const langMap = {
        'en': 'English',
        'ru': 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
        'ar': 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
        'fr': 'FranÃ§ais',
        'de': 'Deutsch',
        'es': 'EspaÃ±ol',
        'it': 'Italiano',
        'zh': 'ä¸­æ–‡',
        'ja': 'æ—¥æœ¬èª',
        'ko': 'í•œêµ­ì–´',
        'fa': 'ÙØ§Ø±Ø³ÛŒ' // Ø¨Ø±Ø§ÛŒ ÙØ§Ø±Ø³ÛŒ
    };
    
    // Ø§Ú¯Ø± Ø²Ø¨Ø§Ù† Ø§ØµÙ„ÛŒ Ø¯Ø± Ù†Ù‚Ø´Ù‡ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´Øª
    if (langMap[primaryLang]) {
        detectedLang = langMap[primaryLang];
    }
    
    return detectedLang;
}

function autoApplyLanguage() {
    const params = new URLSearchParams(window.location.search);
    const langParam = params.get('l');
    const slParam = params.get('sl');
    
    // ÙÙ‚Ø· Ø§Ú¯Ø± sl=true Ø¨Ø§Ø´Ø¯ØŒ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ù†Ø¬Ø§Ù… Ø´ÙˆØ¯
    if (slParam !== 'true') return;
    
    // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ø²Ø¨Ø§Ù† Ø±Ø§ Ø¯Ø³ØªÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ (Ù¾Ø§Ø±Ø§Ù…ØªØ± l Ø¯Ø§Ø±Ø¯)ØŒ Ú©Ø§Ø±ÛŒ Ù†Ú©Ù†
    if (langParam) return;
    
    // Ø²Ø¨Ø§Ù† Ù…Ø±ÙˆØ±Ú¯Ø± Ø±Ø§ ØªØ´Ø®ÛŒØµ Ø¨Ø¯Ù‡
    const browserLang = detectBrowserLanguage();
    
    // Ø§Ú¯Ø± Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ØŒ Ú©Ø§Ø±ÛŒ Ù†Ú©Ù† (Ø³Ø§ÛŒØª ÙØ§Ø±Ø³ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ø³Øª)
    if (browserLang === 'ÙØ§Ø±Ø³ÛŒ') return;
    
    // Ø§Ú¯Ø± Ø²Ø¨Ø§Ù†ÛŒ ØºÛŒØ± Ø§Ø² ÙØ§Ø±Ø³ÛŒ ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯ Ú©Ù‡ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    if (browserLang && supportedLanguages.includes(browserLang)) {
        applyLanguage(browserLang);
        showAutoDetectMessage(browserLang);
    }
}

function showAutoDetectMessage(langName) {
    // Ø§ÛŒØ¬Ø§Ø¯ Ù¾ÛŒØºØ§Ù… Ú©ÙˆÚ†Ú© Ø¯Ø± Ú¯ÙˆØ´Ù‡ ØµÙØ­Ù‡
    const messageDiv = document.createElement('div');
    messageDiv.style.cssText = `
        position: fixed;
        top: 70px;
        right: 10px;
        background: rgba(255, 85, 0, 0.9);
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-size: 12px;
        z-index: 10000;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        animation: slideIn 0.3s ease;
        max-width: 200px;
        font-family: Tahoma, sans-serif;
    `;
    
    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
    const style = document.createElement('style');
    style.textContent = `
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    `;
    document.head.appendChild(style);
    
    // Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù… Ø²Ø¨Ø§Ù†
    let langDisplayName = langName;
    if (langName === 'English') langDisplayName = 'English ğŸ‡ºğŸ‡¸';
    else if (langName === 'Ğ ÑƒÑÑĞºĞ¸Ğ¹') langDisplayName = 'Ğ ÑƒÑÑĞºĞ¸Ğ¹ ğŸ‡·ğŸ‡º';
    else if (langName === 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©') langDisplayName = 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ğŸ‡¸ğŸ‡¦';
    else if (langName === 'FranÃ§ais') langDisplayName = 'FranÃ§ais ğŸ‡«ğŸ‡·';
    else if (langName === 'Deutsch') langDisplayName = 'Deutsch ğŸ‡©ğŸ‡ª';
    else if (langName === 'EspaÃ±ol') langDisplayName = 'EspaÃ±ol ğŸ‡ªğŸ‡¸';
    else if (langName === 'Italiano') langDisplayName = 'Italiano ğŸ‡®ğŸ‡¹';
    else if (langName === 'ä¸­æ–‡') langDisplayName = 'ä¸­æ–‡ ğŸ‡¨ğŸ‡³';
    else if (langName === 'æ—¥æœ¬èª') langDisplayName = 'æ—¥æœ¬èª ğŸ‡¯ğŸ‡µ';
    else if (langName === 'í•œêµ­ì–´') langDisplayName = 'í•œêµ­ì–´ ğŸ‡°ğŸ‡·';
    
    messageDiv.innerHTML = `
        <div style="font-weight: bold; margin-bottom: 4px;">ğŸŒ Language Detected</div>
        <div>Auto-switched to ${langDisplayName}</div>
        <div style="font-size: 10px; margin-top: 4px; opacity: 0.8;">
            <a href="?l=Ù¾Ø§Ø±Ø³ÛŒ" style="color: white; text-decoration: underline;">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙØ§Ø±Ø³ÛŒ</a>
        </div>
    `;
    
    document.body.appendChild(messageDiv);
    
    // Ø­Ø°Ù Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ø² 8 Ø«Ø§Ù†ÛŒÙ‡
    setTimeout(() => {
        if (messageDiv.parentNode) {
            messageDiv.style.opacity = '0';
            messageDiv.style.transition = 'opacity 0.5s';
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 500);
        }
    }, 8000);
    
    // Ø§Ù…Ú©Ø§Ù† Ø¨Ø³ØªÙ† Ø¯Ø³ØªÛŒ
    const closeBtn = document.createElement('span');
    closeBtn.innerHTML = 'Ã—';
    closeBtn.style.cssText = `
        position: absolute;
        top: 2px;
        left: 8px;
        cursor: pointer;
        font-size: 16px;
        line-height: 1;
    `;
    closeBtn.onclick = () => {
        if (messageDiv.parentNode) {
            messageDiv.parentNode.removeChild(messageDiv);
        }
    };
    messageDiv.appendChild(closeBtn);
}

// Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ ØµÙØ­Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
function addAutoDetectButton() {
    // ÙÙ‚Ø· Ø§Ú¯Ø± Ø¯Ø± ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø´ÛŒÙ…
    if (!document.querySelector('.header-text')) return;
    
    const autoBtn = document.createElement('a');
    autoBtn.href = '?sl=true';
    autoBtn.innerHTML = 'ğŸŒ Auto Language';
    autoBtn.style.cssText = `
        position: absolute;
        top: 10px;
        left: 10px;
        background: #ff5500;
        color: white;
        padding: 5px 10px;
        border-radius: 4px;
        font-size: 12px;
        text-decoration: none;
        font-family: Tahoma, sans-serif;
        z-index: 100;
        display: none; /* Ø¨Ù‡ Ø·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù…Ø®ÙÛŒ */
    `;
    
    // ÙÙ‚Ø· Ø¯Ø± Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ù†Ø´Ø§Ù† Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯
    if (window.innerWidth < 768) {
        autoBtn.style.display = 'block';
    }
    
    document.querySelector('.header').appendChild(autoBtn);
    
    // ØªØºÛŒÛŒØ± Ø³Ø§ÛŒØ² Ù‡Ù†Ú¯Ø§Ù… Ø±ÛŒØ³Ø§ÛŒØ²
    window.addEventListener('resize', () => {
        autoBtn.style.display = window.innerWidth < 768 ? 'block' : 'none';
    });
}

// Ø§Ø¬Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ø¹Ø¯ Ø§Ø² Ù„ÙˆØ¯ ØµÙØ­Ù‡
document.addEventListener('DOMContentLoaded', function() {
    // Ø§Ø¬Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ø®ÙˆØ¯Ú©Ø§Ø±
    autoApplyLanguage();
    
    // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
    addAutoDetectButton();
    
    // Ø§Ú¯Ø± DOM Ù‚Ø¨Ù„Ø§Ù‹ Ù„ÙˆØ¯ Ø´Ø¯Ù‡
    if (document.readyState !== 'loading') {
        autoApplyLanguage();
        addAutoDetectButton();
    }
});